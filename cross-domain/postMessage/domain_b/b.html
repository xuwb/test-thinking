<!DOCTYPE html>
<html>
<head>
    <title>子页面</title>
    <meta charset="utf-8">
    <style type="text/css">
        html,body{
            height:100%;
            margin:0px;
        }
    </style>
    <script type="text/javascript" src="jquery-1.11.2.js"></script>
</head>
<body style="height:100%;">
        <div id="container" onclick="changeColor();" style="widht:100%; height:100%; background-color:rgb(204, 102, 0);">
            click to change color
        </div>
        <script type="text/javascript"s>
            var container=document.getElementById('container');

            window.addEventListener('message',function(e){
                console.log(JSON.parse(e.data));
                
                if(e.source!=window.parent) return;
                var color=container.style.backgroundColor;
                window.parent.postMessage(color,'*');
            },false);

            function changeColor () {            
                var color=container.style.backgroundColor;
                if(color=='rgb(204, 102, 0)'){
                    color='rgb(204, 204, 0)';
                }else{
                    color='rgb(204,102,0)';
                }
                container.style.backgroundColor=color;
                window.parent.postMessage(color,'*');
            }
        </script>
    </body>
</html>